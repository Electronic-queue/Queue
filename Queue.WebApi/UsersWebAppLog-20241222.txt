2024-12-22 17:51:53.531 +05:00 [INF] Приложение запущено
2024-12-22 17:51:54.436 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 17:51:54.441 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 17:51:54.449 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 17:51:54.452 +05:00 [INF] Hosting environment: Development
2024-12-22 17:51:54.452 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 17:51:59.669 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/ - null null
2024-12-22 17:52:00.139 +05:00 [INF] CorrelationId: 06b9f4de-2aa8-4f5e-b4bb-854306a74900
2024-12-22 17:52:00.327 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/ - 301 0 null 685.7031ms
2024-12-22 17:52:00.339 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 17:52:00.347 +05:00 [INF] CorrelationId: dbaba3e3-1695-48e2-bc4d-2a11cee3efab
2024-12-22 17:52:00.559 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 220.2919ms
2024-12-22 17:52:00.570 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger-ui.css - null null
2024-12-22 17:52:00.570 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.css - null null
2024-12-22 17:52:00.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger-ui-bundle.js - null null
2024-12-22 17:52:00.574 +05:00 [INF] CorrelationId: 5de35fd8-c163-4c42-af33-5e08c5147c09
2024-12-22 17:52:00.574 +05:00 [INF] CorrelationId: db3fd641-39d7-4581-96b5-87a09c0045e9
2024-12-22 17:52:00.575 +05:00 [INF] CorrelationId: bd29b42d-041c-4986-823f-0f445f441c9e
2024-12-22 17:52:00.578 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 17:52:00.579 +05:00 [INF] CorrelationId: b55014ea-309f-40cc-84ad-5e9e3e99b783
2024-12-22 17:52:00.579 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger-ui-standalone-preset.js - null null
2024-12-22 17:52:00.651 +05:00 [INF] CorrelationId: 2b702fcb-90ad-4c03-83a4-1b9e98ad857f
2024-12-22 17:52:00.666 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 17:52:00.679 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 17:52:00.680 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 102.069ms
2024-12-22 17:52:00.746 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 80.3042ms
2024-12-22 17:52:00.753 +05:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-12-22 17:52:00.754 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.css - 200 202 text/css 184.2564ms
2024-12-22 17:52:00.771 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-12-22 17:52:00.771 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-12-22 17:52:00.777 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger-ui-standalone-preset.js - 200 230007 text/javascript 198.0533ms
2024-12-22 17:52:00.777 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger-ui.css - 200 152035 text/css 207.6138ms
2024-12-22 17:52:00.853 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-12-22 17:52:00.854 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger-ui-bundle.js - 200 1426050 text/javascript 280.0331ms
2024-12-22 17:52:00.937 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 258.6188ms
2024-12-22 17:52:01.175 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 17:52:01.175 +05:00 [INF] CorrelationId: e6b7bf29-41cb-4f39-a3ef-9cfa304a4e7f
2024-12-22 17:52:01.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 366.1362ms
2024-12-22 17:52:27.832 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 136
2024-12-22 17:52:27.833 +05:00 [INF] CorrelationId: ef3ee761-730e-428d-ac17-62bd0bf9a9ee
2024-12-22 17:52:27.843 +05:00 [INF] CORS policy execution successful.
2024-12-22 17:52:27.947 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 17:52:28.017 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Models.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 17:52:28.522 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"0","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 17:52:41.476 +05:00 [INF] Executed DbCommand (169ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 17:52:41.656 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5e7937cb-f2d1-4543-9540-0b4d4fd52211
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5e7937cb-f2d1-4543-9540-0b4d4fd52211
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 17:52:41.824 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 17:52:41.858 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 13835.505ms
2024-12-22 17:52:41.860 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 17:52:41.990 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 14158.8072ms
2024-12-22 20:15:21.401 +05:00 [INF] Приложение запущено
2024-12-22 20:15:21.866 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:15:21.868 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:15:21.870 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:15:21.870 +05:00 [INF] Hosting environment: Development
2024-12-22 20:15:21.870 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:15:22.729 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:15:22.971 +05:00 [INF] CorrelationId: bb5ea490-fa31-4496-b625-7b567b03c04a
2024-12-22 20:15:23.297 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 578.291ms
2024-12-22 20:15:23.328 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:15:23.328 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:15:23.329 +05:00 [INF] CorrelationId: 4dffc094-5d97-40a8-8bf3-5b34f6aa1777
2024-12-22 20:15:23.334 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 5.0122ms
2024-12-22 20:15:23.347 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:15:23.347 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 19.0778ms
2024-12-22 20:15:23.411 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.1725ms
2024-12-22 20:15:23.670 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:15:23.672 +05:00 [INF] CorrelationId: 87368d9e-2401-452c-aed3-4e1210e2a5fd
2024-12-22 20:15:24.007 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 337.1528ms
2024-12-22 20:15:47.681 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 101
2024-12-22 20:15:47.682 +05:00 [INF] CorrelationId: bf1b4c9a-927b-4726-b90e-e74ba98fc738
2024-12-22 20:15:47.687 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:15:47.729 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:15:47.755 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:15:47.986 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 227.2595ms
2024-12-22 20:15:47.987 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:15:48.011 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 330.0411ms
2024-12-22 20:21:56.286 +05:00 [INF] Приложение запущено
2024-12-22 20:21:56.727 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:21:56.729 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:21:56.734 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:21:56.735 +05:00 [INF] Hosting environment: Development
2024-12-22 20:21:56.735 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:21:57.748 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:21:57.958 +05:00 [INF] CorrelationId: 386aaac0-f2fe-42e5-8694-73e613f79e65
2024-12-22 20:21:58.315 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 605.1217ms
2024-12-22 20:21:58.341 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:21:58.341 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:21:58.343 +05:00 [INF] CorrelationId: 96b49fc4-dc21-43f8-b670-f96ec4e55550
2024-12-22 20:21:58.347 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 6.6475ms
2024-12-22 20:21:58.366 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:21:58.384 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 43.1739ms
2024-12-22 20:21:58.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.041ms
2024-12-22 20:21:58.555 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:21:58.557 +05:00 [INF] CorrelationId: 18f43884-a6ec-4f72-ba93-3e843388992a
2024-12-22 20:21:59.035 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 480.3217ms
2024-12-22 20:24:24.486 +05:00 [INF] Приложение запущено
2024-12-22 20:24:24.837 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:24:24.840 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:24:24.844 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:24:24.845 +05:00 [INF] Hosting environment: Development
2024-12-22 20:24:24.845 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:24:27.777 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:24:27.947 +05:00 [INF] CorrelationId: 76e54147-2d66-45f4-8171-9431d38e64ce
2024-12-22 20:24:28.189 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 430.5078ms
2024-12-22 20:24:28.200 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:24:28.200 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:24:28.201 +05:00 [INF] CorrelationId: 24d4536c-afa8-4833-8d49-32f195febc98
2024-12-22 20:24:28.228 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 28.2663ms
2024-12-22 20:24:28.230 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:24:28.261 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 61.3813ms
2024-12-22 20:24:28.318 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.3856ms
2024-12-22 20:24:28.391 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:24:28.392 +05:00 [INF] CorrelationId: b67f4b8a-4196-44d5-b394-10b1afe6a6f9
2024-12-22 20:24:28.783 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 393.0072ms
2024-12-22 20:24:42.021 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 58
2024-12-22 20:24:42.021 +05:00 [INF] CorrelationId: 27072027-14a5-442e-bb5b-1158fdaba0d1
2024-12-22 20:24:42.030 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:24:42.119 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:24:42.178 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:24:42.708 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 522.8202ms
2024-12-22 20:24:42.710 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:24:42.771 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 751.2027ms
2024-12-22 20:31:09.641 +05:00 [INF] Приложение запущено
2024-12-22 20:31:10.280 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:31:10.284 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:31:10.288 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:31:10.289 +05:00 [INF] Hosting environment: Development
2024-12-22 20:31:10.290 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:31:11.295 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:31:11.746 +05:00 [INF] CorrelationId: 0cec12d0-7c42-496f-bed5-359e5c890e60
2024-12-22 20:31:12.065 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 794.3088ms
2024-12-22 20:31:12.095 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:31:12.095 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:31:12.097 +05:00 [INF] CorrelationId: 582e04e8-c97e-46bf-a7df-1044953502a7
2024-12-22 20:31:12.100 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 5.2997ms
2024-12-22 20:31:12.112 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:31:12.117 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 21.8334ms
2024-12-22 20:31:12.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.6585ms
2024-12-22 20:31:12.288 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:31:12.290 +05:00 [INF] CorrelationId: f16371b9-7c62-44ef-9637-b4afe7f2af86
2024-12-22 20:31:12.704 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 416.6242ms
2024-12-22 20:31:24.285 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 58
2024-12-22 20:31:24.285 +05:00 [INF] CorrelationId: a2978ade-e5ca-4abd-ab31-bad74a6f4e78
2024-12-22 20:31:24.293 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:31:24.376 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:31:24.445 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:31:25.050 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 589.0451ms
2024-12-22 20:31:25.054 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:31:25.179 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 894.8543ms
2024-12-22 20:33:22.361 +05:00 [INF] Приложение запущено
2024-12-22 20:33:22.967 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:33:22.970 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:33:22.980 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:33:22.980 +05:00 [INF] Hosting environment: Development
2024-12-22 20:33:22.981 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:33:23.784 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:33:24.005 +05:00 [INF] CorrelationId: c5c09972-1d97-4402-8888-303ebfe4e2a3
2024-12-22 20:33:24.455 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 723.3785ms
2024-12-22 20:33:24.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:33:24.508 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:33:24.510 +05:00 [INF] CorrelationId: b2c487f4-8845-4c46-bd18-81a9f7597879
2024-12-22 20:33:24.515 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 7.4701ms
2024-12-22 20:33:24.874 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:33:24.893 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 385.4924ms
2024-12-22 20:33:24.953 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.1239ms
2024-12-22 20:33:25.057 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:33:25.059 +05:00 [INF] CorrelationId: c5122079-1cb6-4ce8-8de4-050f07a1c9e9
2024-12-22 20:33:25.560 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 504.1229ms
2024-12-22 20:33:37.601 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 58
2024-12-22 20:33:37.602 +05:00 [INF] CorrelationId: 7ed834a3-e8b3-4e22-8088-424c41d49138
2024-12-22 20:33:37.612 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:33:37.690 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:33:37.773 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:33:38.351 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowId":1,"WindowNumber":1,"CreatedBy":1,"$type":"CreateWindowCommand"} 
2024-12-22 20:33:44.888 +05:00 [INF] Executed DbCommand (356ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:33:45.160 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:33:45.458 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:33:45.543 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 7761.1944ms
2024-12-22 20:33:45.546 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:33:45.699 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 8099.4076ms
2024-12-22 20:33:59.172 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 58
2024-12-22 20:33:59.173 +05:00 [INF] CorrelationId: c7779748-eed4-48e8-bd81-121668b3e1fa
2024-12-22 20:33:59.174 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:33:59.176 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:33:59.176 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:33:59.181 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowId":1,"WindowNumber":1,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:33:59.413 +05:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:33:59.420 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:33:59.502 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:33:59.506 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 329.6319ms
2024-12-22 20:33:59.507 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:33:59.650 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 478.3578ms
2024-12-22 20:34:11.450 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 58
2024-12-22 20:34:11.451 +05:00 [INF] CorrelationId: 2d1b5779-309c-4444-8aaa-1b416e961437
2024-12-22 20:34:11.451 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:34:11.452 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:34:11.452 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:34:11.454 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowId":3,"WindowNumber":1,"CreatedBy":4,"$type":"CreateWindowCommand"} 
2024-12-22 20:34:11.550 +05:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:34:11.558 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dafeff1d-7c1c-4e29-83d0-8a8a187aa780
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:34:11.650 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:34:11.652 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 200.3162ms
2024-12-22 20:34:11.653 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:34:11.803 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 354.0209ms
2024-12-22 20:35:42.879 +05:00 [INF] Приложение запущено
2024-12-22 20:35:43.493 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:35:43.496 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:35:43.500 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:35:43.501 +05:00 [INF] Hosting environment: Development
2024-12-22 20:35:43.501 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:35:46.242 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:35:46.434 +05:00 [INF] CorrelationId: 3f3a805a-4013-4a0b-a696-8b9189238bca
2024-12-22 20:35:46.715 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 495.114ms
2024-12-22 20:35:46.749 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:35:46.749 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:35:46.751 +05:00 [INF] CorrelationId: 4202c3a5-78ef-4adc-b75e-b96f033369b0
2024-12-22 20:35:46.768 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 20.5068ms
2024-12-22 20:35:46.780 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:35:46.809 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 62.4933ms
2024-12-22 20:35:46.866 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.7003ms
2024-12-22 20:35:46.951 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:35:46.953 +05:00 [INF] CorrelationId: 054b65f9-9d60-4093-b7c0-82811d422afb
2024-12-22 20:35:47.383 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 432.9829ms
2024-12-22 20:36:24.218 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:36:24.219 +05:00 [INF] CorrelationId: 38653328-fd73-412a-a041-ce345e11bd1f
2024-12-22 20:36:24.229 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:36:24.357 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:36:24.427 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:36:25.005 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":4,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:36:30.034 +05:00 [INF] Executed DbCommand (279ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:36:30.188 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:36:30.435 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:36:30.480 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 6046.4466ms
2024-12-22 20:36:30.482 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:36:30.726 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 6508.3119ms
2024-12-22 20:36:42.882 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:36:42.883 +05:00 [INF] CorrelationId: 59c003f2-1f04-4378-85ac-6fac48f65b1b
2024-12-22 20:36:42.884 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:36:42.886 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:36:42.887 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:36:42.894 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":4,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:36:43.187 +05:00 [INF] Executed DbCommand (139ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:36:43.197 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:36:43.300 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:36:43.304 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 416.228ms
2024-12-22 20:36:43.304 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:36:43.479 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 596.733ms
2024-12-22 20:37:49.587 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:37:49.591 +05:00 [INF] CorrelationId: 77806abd-8f2e-4f1c-a555-b3eaf688022e
2024-12-22 20:37:49.597 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:37:49.599 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:37:49.599 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:37:49.601 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":4,"CreatedBy":4,"$type":"CreateWindowCommand"} 
2024-12-22 20:37:49.698 +05:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:37:49.706 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:37:49.806 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:37:49.810 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 210.5357ms
2024-12-22 20:37:49.811 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:37:50.010 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 424.9605ms
2024-12-22 20:37:55.202 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 42
2024-12-22 20:37:55.203 +05:00 [INF] CorrelationId: ee8497e8-0733-4b1b-bfbd-a98b155d75a8
2024-12-22 20:37:55.203 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:37:55.203 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:37:55.203 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:37:55.204 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":10,"CreatedBy":4,"$type":"CreateWindowCommand"} 
2024-12-22 20:37:55.257 +05:00 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:37:55.263 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:37:55.348 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:37:55.351 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 148.1454ms
2024-12-22 20:37:55.352 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:37:55.493 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 291.599ms
2024-12-22 20:38:02.025 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:38:02.025 +05:00 [INF] CorrelationId: f464c632-da52-4507-94f6-1a6011b40db9
2024-12-22 20:38:02.025 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:38:02.026 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:38:02.026 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:38:02.026 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"CreatedBy":4,"$type":"CreateWindowCommand"} 
2024-12-22 20:38:02.088 +05:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:38:02.094 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:38:02.173 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:38:02.176 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 149.8112ms
2024-12-22 20:38:02.177 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:38:02.303 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 278.7529ms
2024-12-22 20:38:51.478 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:38:51.479 +05:00 [INF] CorrelationId: 062e38f7-a8cf-4c0b-aacb-19e25b823449
2024-12-22 20:38:51.479 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:38:51.486 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:38:51.488 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:38:51.490 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":3,"CreatedBy":0,"$type":"CreateWindowCommand"} 
2024-12-22 20:38:51.549 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:38:51.555 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:38:51.625 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:38:51.628 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 139.5946ms
2024-12-22 20:38:51.628 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:38:51.751 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 274.6165ms
2024-12-22 20:39:06.076 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 141
2024-12-22 20:39:06.077 +05:00 [INF] CorrelationId: e2397f2a-976e-4392-9130-be91f5ca42fa
2024-12-22 20:39:06.077 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:39:06.078 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 20:39:06.095 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 20:39:06.192 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"string","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 20:39:06.455 +05:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 20:39:06.465 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f0e5d412-f720-4684-bb16-17b5c3af61b5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:39:06.589 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:39:06.594 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 499.0258ms
2024-12-22 20:39:06.595 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 20:39:06.816 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 740.2011ms
2024-12-22 20:43:55.380 +05:00 [INF] Приложение запущено
2024-12-22 20:43:55.868 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:43:55.872 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:43:55.879 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:43:55.880 +05:00 [INF] Hosting environment: Development
2024-12-22 20:43:55.881 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:43:59.513 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:43:59.695 +05:00 [INF] CorrelationId: 653347f6-6b41-4c26-9d09-9e7b90f56767
2024-12-22 20:43:59.957 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 470.5594ms
2024-12-22 20:43:59.973 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:43:59.973 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:43:59.973 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:43:59.974 +05:00 [INF] CorrelationId: b03ebbfd-2138-401c-8c6c-08238bcb2c83
2024-12-22 20:43:59.990 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 16.8314ms
2024-12-22 20:44:00.011 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 38.6491ms
2024-12-22 20:44:00.055 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.0049ms
2024-12-22 20:44:00.145 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:44:00.147 +05:00 [INF] CorrelationId: 5cec982c-e0b0-4179-95d7-b9996d629086
2024-12-22 20:44:00.513 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 368.6413ms
2024-12-22 20:44:20.038 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:44:20.039 +05:00 [INF] CorrelationId: 2a236a35-d49f-4c7e-a0ce-22047fb65382
2024-12-22 20:44:20.045 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:44:20.118 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:44:20.162 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:44:36.274 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:44:40.421 +05:00 [INF] Executed DbCommand (201ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:44:40.541 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:45:15.485 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:45:15.522 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 55351.8676ms
2024-12-22 20:45:15.524 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:45:15.692 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 55654.1788ms
2024-12-22 20:45:19.316 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:45:19.317 +05:00 [INF] CorrelationId: f89be702-66ca-4610-a0ac-489900b6abd8
2024-12-22 20:45:19.318 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:45:19.319 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:45:19.319 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:45:23.079 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:45:53.408 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:45:53.415 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:47:38.735 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:47:38.748 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 139428.372ms
2024-12-22 20:47:38.748 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:47:38.844 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 139528.3156ms
2024-12-22 20:48:01.544 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 141
2024-12-22 20:48:01.555 +05:00 [INF] CorrelationId: bf972911-1570-444e-b3fe-7496281494a8
2024-12-22 20:48:01.557 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:48:01.558 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 20:48:01.568 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 20:48:01.660 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"string","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 20:48:01.945 +05:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 20:48:01.952 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:23751ee6-2e7a-4cd3-a603-3f66ffcbc62e
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 20:48:02.026 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 20:48:02.028 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 460.2137ms
2024-12-22 20:48:02.029 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 20:48:02.172 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 627.9447ms
2024-12-22 20:48:58.313 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - null null
2024-12-22 20:48:58.315 +05:00 [INF] CorrelationId: bc0ba656-ccc1-4b44-a31f-3ca6957c77b7
2024-12-22 20:48:58.323 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:48:58.334 +05:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Queue.Application.Users.Queries.GetUserList.UserListVm]] GetAll(Int32) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 20:48:58.404 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi) in 70.0129ms
2024-12-22 20:48:58.405 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:48:58.452 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - 500 null application/json 139.6494ms
2024-12-22 20:49:11.039 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - null null
2024-12-22 20:49:11.042 +05:00 [INF] CorrelationId: 502da401-67db-43f5-b944-cfd835bf761a
2024-12-22 20:49:11.042 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:49:11.048 +05:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Queue.Application.Users.Queries.GetUserList.UserListVm]] GetAll(Int32) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 20:49:11.121 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi) in 72.6707ms
2024-12-22 20:49:11.122 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:49:11.171 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - 500 null application/json 131.4203ms
2024-12-22 20:49:13.856 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - null null
2024-12-22 20:49:13.857 +05:00 [INF] CorrelationId: 1647e402-cb9e-410c-81e1-1c64c6c9abbb
2024-12-22 20:49:13.857 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:49:13.858 +05:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Queue.Application.Users.Queries.GetUserList.UserListVm]] GetAll(Int32) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 20:49:13.911 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi) in 53.5322ms
2024-12-22 20:49:13.912 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.GetAll (Queue.WebApi)'
2024-12-22 20:49:13.958 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/1/User?UserId=3&api-version=1 - 500 null application/json 102.1979ms
2024-12-22 20:51:08.148 +05:00 [INF] Приложение запущено
2024-12-22 20:51:08.610 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 20:51:08.612 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 20:51:08.615 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 20:51:08.616 +05:00 [INF] Hosting environment: Development
2024-12-22 20:51:08.616 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 20:51:11.760 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 20:51:11.924 +05:00 [INF] CorrelationId: d0f85d06-d231-4a21-b5a5-a6d0ab5e92bc
2024-12-22 20:51:12.135 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 398.7948ms
2024-12-22 20:51:12.145 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 20:51:12.145 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 20:51:12.146 +05:00 [INF] CorrelationId: 25d11cbc-1874-459d-afc5-10a8b9de5332
2024-12-22 20:51:12.150 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 5.3181ms
2024-12-22 20:51:12.155 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 20:51:12.160 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 16.1033ms
2024-12-22 20:51:12.222 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.2981ms
2024-12-22 20:51:12.308 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 20:51:12.310 +05:00 [INF] CorrelationId: e084f078-5f9d-4023-9669-1ba86bdd0381
2024-12-22 20:51:12.658 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 350.8015ms
2024-12-22 20:51:34.124 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 20:51:34.125 +05:00 [INF] CorrelationId: 7ed12a4d-1538-4226-b41e-20d0ade85390
2024-12-22 20:51:34.131 +05:00 [INF] CORS policy execution successful.
2024-12-22 20:51:34.211 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 20:51:34.269 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 20:51:38.631 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":2,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 20:52:00.065 +05:00 [INF] Executed DbCommand (187ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 20:52:00.202 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e5d06727-15f3-445c-b04e-d58a9ba80c04
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e5d06727-15f3-445c-b04e-d58a9ba80c04
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:02:56.010 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:02:56.056 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 681777.8082ms
2024-12-22 21:02:56.058 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:02:56.215 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 682090.8136ms
2024-12-22 21:03:06.128 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 21:03:06.128 +05:00 [INF] CorrelationId: b520961b-99e1-44d6-af6a-b232f2b6780a
2024-12-22 21:03:06.129 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:03:06.131 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:03:06.132 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:03:09.727 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":2,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:03:12.997 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:03:13.005 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:83138096-77a5-4c05-894b-95fdd3e1a5a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:83138096-77a5-4c05-894b-95fdd3e1a5a1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:03:13.080 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:03:13.084 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 6951.6758ms
2024-12-22 21:03:13.085 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:03:13.182 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 7054.4723ms
2024-12-22 21:04:59.379 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 141
2024-12-22 21:04:59.380 +05:00 [INF] CorrelationId: 0498d6a7-5972-4251-8e05-1e617e40b0db
2024-12-22 21:04:59.381 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:04:59.381 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:04:59.390 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 21:04:59.522 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"string","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 21:04:59.913 +05:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 21:04:59.920 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:83138096-77a5-4c05-894b-95fdd3e1a5a1
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:83138096-77a5-4c05-894b-95fdd3e1a5a1
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:04:59.996 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:04:59.999 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 609.1231ms
2024-12-22 21:05:00.000 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:05:00.142 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 762.6146ms
2024-12-22 21:05:56.611 +05:00 [INF] Приложение запущено
2024-12-22 21:05:57.241 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 21:05:57.248 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 21:05:57.257 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 21:05:57.259 +05:00 [INF] Hosting environment: Development
2024-12-22 21:05:57.259 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 21:06:00.917 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 21:06:01.114 +05:00 [INF] CorrelationId: ef9226f7-440d-444e-8313-d749a4f443e9
2024-12-22 21:06:01.381 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 474.6113ms
2024-12-22 21:06:01.400 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 21:06:01.400 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 21:06:01.400 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 21:06:01.402 +05:00 [INF] CorrelationId: 07a2e809-e3a6-4349-a56d-d5513dd901dc
2024-12-22 21:06:01.409 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 9.3947ms
2024-12-22 21:06:01.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 47.4564ms
2024-12-22 21:06:01.488 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.7041ms
2024-12-22 21:06:01.595 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 21:06:01.598 +05:00 [INF] CorrelationId: 0f75aff9-9e75-4be7-9693-c431141bfb58
2024-12-22 21:06:01.968 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 373.4278ms
2024-12-22 21:06:17.150 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 141
2024-12-22 21:06:17.151 +05:00 [INF] CorrelationId: 23435a00-8f01-413d-8446-5bb065147199
2024-12-22 21:06:17.158 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:06:17.219 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:06:17.278 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 21:06:34.134 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"string","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 21:07:08.360 +05:00 [INF] Executed DbCommand (224ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 21:07:08.495 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:07:46.985 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:07:47.029 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 89742.2639ms
2024-12-22 21:07:47.032 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:07:47.189 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 90045.6569ms
2024-12-22 21:07:56.907 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 140
2024-12-22 21:07:56.926 +05:00 [INF] CorrelationId: a99a6328-0617-430e-9557-1c0ceb3e26d8
2024-12-22 21:07:56.928 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:07:56.930 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:07:56.930 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 21:07:58.490 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"Askar","LastName":"string","Surname":"string","Login":"string","PasswordHash":"string","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 21:07:59.461 +05:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 21:07:59.476 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Users__5E55825B7C5DEA66'. Cannot insert duplicate key in object 'elec_queue.Users'. The duplicate key value is (string).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:07:59.610 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:07:59.616 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 2685.1626ms
2024-12-22 21:07:59.617 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:07:59.870 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 500 null application/json 2962.4042ms
2024-12-22 21:08:22.895 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - application/json 136
2024-12-22 21:08:22.896 +05:00 [INF] CorrelationId: a1eba168-cb95-473c-9d8a-c470a742191f
2024-12-22 21:08:22.897 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:08:22.897 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:08:22.897 +05:00 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.UserContracts.CreateUserDto) on controller Queue.WebApi.Controllers.UserController (Queue.WebApi).
2024-12-22 21:08:24.699 +05:00 [INF] Users Request: CreateUserCommand "00000000-0000-0000-0000-000000000000" {"FirstName":"Askar","LastName":"Askar","Surname":"Askar","Login":"Askar","PasswordHash":"Askar","CreatedBy":3,"$type":"CreateUserCommand"} 
2024-12-22 21:08:25.639 +05:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (Size = 100), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Users] ([CreatedBy], [CreatedOn], [FirstName], [IsDeleted], [LastName], [Login], [PasswordHash], [Surname])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-12-22 21:08:25.665 +05:00 [INF] Executing OkObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result'.
2024-12-22 21:08:25.669 +05:00 [INF] Executed action Queue.WebApi.Controllers.UserController.Create (Queue.WebApi) in 2771.6252ms
2024-12-22 21:08:25.669 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.UserController.Create (Queue.WebApi)'
2024-12-22 21:08:25.669 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/User?api-version=1 - 200 null application/json; charset=utf-8 2775.171ms
2024-12-22 21:09:20.596 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 21:09:20.597 +05:00 [INF] CorrelationId: 4a20ae90-0070-4315-ae0a-efbac4804110
2024-12-22 21:09:20.598 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:09:20.598 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:09:20.617 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:09:20.625 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:09:20.709 +05:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:09:20.713 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__Windows__WindowS__047AA831". The conflict occurred in database "aybolat_db", table "elec_queue.WindowStatuses", column 'WindowStatusID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:15a3bf7b-95aa-4461-83a1-ee9599c75db2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:09:20.759 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:09:20.762 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 144.5221ms
2024-12-22 21:09:20.762 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:09:20.832 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 238.5321ms
2024-12-22 21:11:05.568 +05:00 [INF] Приложение запущено
2024-12-22 21:11:05.869 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 21:11:05.871 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 21:11:05.874 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 21:11:05.874 +05:00 [INF] Hosting environment: Development
2024-12-22 21:11:05.874 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 21:11:08.727 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 21:11:08.887 +05:00 [INF] CorrelationId: 004b4cf4-de37-4c45-9017-5cad1f6ee26e
2024-12-22 21:11:09.087 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 390.6046ms
2024-12-22 21:11:09.120 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 21:11:09.120 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 21:11:09.121 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 21:11:09.124 +05:00 [INF] CorrelationId: 6e6005e1-e996-46ec-86ba-0694121099a7
2024-12-22 21:11:09.139 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 19.0956ms
2024-12-22 21:11:09.188 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 68.3749ms
2024-12-22 21:11:09.251 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.0466ms
2024-12-22 21:11:09.304 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 21:11:09.306 +05:00 [INF] CorrelationId: f66636b6-37c5-4380-b8cc-cba690a82368
2024-12-22 21:11:09.571 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 267.4723ms
2024-12-22 21:11:20.147 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 41
2024-12-22 21:11:20.148 +05:00 [INF] CorrelationId: c41789c4-a235-49c3-a66b-4ae91e8dbd7a
2024-12-22 21:11:20.154 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:11:20.194 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:11:20.221 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:11:20.427 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:11:22.788 +05:00 [INF] Executed DbCommand (120ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:11:22.870 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'Queue.Persistence.QueuesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WindowStatusID', table 'aybolat_db.elec_queue.Windows'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3b8c32b8-13a0-4ddb-99c3-b3467d85709a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WindowStatusID', table 'aybolat_db.elec_queue.Windows'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3b8c32b8-13a0-4ddb-99c3-b3467d85709a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-22 21:11:22.952 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:11:22.972 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 2747.7994ms
2024-12-22 21:11:22.974 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:11:23.078 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 2931.7358ms
2024-12-22 21:16:23.933 +05:00 [INF] Приложение запущено
2024-12-22 21:16:24.473 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 21:16:24.476 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 21:16:24.479 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 21:16:24.480 +05:00 [INF] Hosting environment: Development
2024-12-22 21:16:24.480 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 21:16:26.724 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 21:16:26.968 +05:00 [INF] CorrelationId: b75ab2c6-5a7c-4d3b-8d88-80e3bb08422a
2024-12-22 21:16:27.182 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 474.0535ms
2024-12-22 21:16:27.210 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 21:16:27.210 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 21:16:27.212 +05:00 [INF] CorrelationId: f989fbce-1c00-4b9d-97ec-a183839656b8
2024-12-22 21:16:27.243 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 21:16:27.243 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 30.6141ms
2024-12-22 21:16:27.283 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 72.9948ms
2024-12-22 21:16:27.325 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.6231ms
2024-12-22 21:16:27.381 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 21:16:27.383 +05:00 [INF] CorrelationId: a0646b66-e671-45a5-95bd-8bb98881646e
2024-12-22 21:16:27.659 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 278.2806ms
2024-12-22 21:16:43.708 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 64
2024-12-22 21:16:43.709 +05:00 [INF] CorrelationId: 076d5c33-e84d-44bf-b957-5e6764a32b0d
2024-12-22 21:16:43.714 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:16:43.772 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:16:43.803 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:16:44.030 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"WindowStatusId":2,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:16:46.375 +05:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:16:46.493 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-22 21:16:46.527 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 2719.1799ms
2024-12-22 21:16:46.529 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:16:46.679 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 500 null application/json 2971.1514ms
2024-12-22 21:17:09.788 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 64
2024-12-22 21:17:09.789 +05:00 [INF] CorrelationId: 4208c212-b639-400f-aa69-21c27c16f693
2024-12-22 21:17:09.789 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:17:09.790 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:17:09.790 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:17:09.793 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"WindowStatusId":2,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:17:24.591 +05:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:17:56.651 +05:00 [INF] Приложение запущено
2024-12-22 21:17:57.007 +05:00 [INF] Now listening on: https://localhost:7092
2024-12-22 21:17:57.009 +05:00 [INF] Now listening on: http://localhost:5294
2024-12-22 21:17:57.011 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-22 21:17:57.012 +05:00 [INF] Hosting environment: Development
2024-12-22 21:17:57.012 +05:00 [INF] Content root path: C:\Users\chich\source\repos\Queue\Queue.WebApi
2024-12-22 21:18:00.563 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.html - null null
2024-12-22 21:18:00.738 +05:00 [INF] CorrelationId: e38c9188-90d9-4d2b-8755-0d5768deb924
2024-12-22 21:18:00.897 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.html - 200 null text/html;charset=utf-8 345.2052ms
2024-12-22 21:18:00.908 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2024-12-22 21:18:00.908 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/index.js - null null
2024-12-22 21:18:00.911 +05:00 [INF] CorrelationId: 29826e44-d7f1-495b-b8cf-76cdd0d84782
2024-12-22 21:18:00.916 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/index.js - 200 null application/javascript;charset=utf-8 7.9724ms
2024-12-22 21:18:00.919 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2024-12-22 21:18:00.940 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 31.9869ms
2024-12-22 21:18:00.982 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.4596ms
2024-12-22 21:18:01.042 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2024-12-22 21:18:01.044 +05:00 [INF] CorrelationId: 800fc0fe-21ef-4a21-b9d5-8af827c44817
2024-12-22 21:18:01.352 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 309.4249ms
2024-12-22 21:18:14.105 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - application/json 64
2024-12-22 21:18:14.105 +05:00 [INF] CorrelationId: a24169c3-d43d-4cd3-861c-6c3fac65c5ae
2024-12-22 21:18:14.109 +05:00 [INF] CORS policy execution successful.
2024-12-22 21:18:14.142 +05:00 [INF] Executing endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:18:14.162 +05:00 [INF] Route matched with {action = "Create", controller = "Window"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Create(Queue.WebApi.Contracts.WIndowContracts.CreateWindowDto) on controller Queue.WebApi.Controllers.WindowController (Queue.WebApi).
2024-12-22 21:18:14.338 +05:00 [INF] Users Request: CreateWindowCommand "00000000-0000-0000-0000-000000000000" {"WindowNumber":1,"WindowStatusId":2,"CreatedBy":3,"$type":"CreateWindowCommand"} 
2024-12-22 21:18:21.206 +05:00 [INF] Executed DbCommand (109ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [elec_queue].[Windows] ([CreatedBy], [CreatedOn], [WindowNumber], [WindowStatusID])
OUTPUT INSERTED.[WindowID]
VALUES (@p0, @p1, @p2, @p3);
2024-12-22 21:18:34.540 +05:00 [INF] Executing OkObjectResult, writing value of type 'KDS.Primitives.FluentResult.Result'.
2024-12-22 21:18:38.013 +05:00 [INF] Executed action Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi) in 23847.6687ms
2024-12-22 21:18:38.013 +05:00 [INF] Executed endpoint 'Queue.WebApi.Controllers.WindowController.Create (Queue.WebApi)'
2024-12-22 21:18:38.020 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/1/Window?api-version=1 - 200 null application/json; charset=utf-8 23916.0813ms
